<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <!-- <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" /> -->
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="build/sensorium.css">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Sensorium by BrettBukowski</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Sensorium</h1>
          <h2>Use WebRTC to capture webcam frames</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/BrettBukowski/sensorium/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="docs/lib/Sensorium.js.html" id="docs" class="button"><span>View the Docs</span></a>
          <a href="https://github.com/BrettBukowski/sensorium" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <a href="#" id="try" class="button">Try it</a>

          <div id="demo"></div>
          <div id="pics"></div>
        </section>

        <footer>
          Sensorium is maintained by <a href="https://github.com/BrettBukowski">BrettBukowski</a><br>
        </footer>


      </div>
    </div>
  <script src="build/sensorium.js"></script>
  <script>
  var Sensorium = require('sensorium'),
      sensorium = new Sensorium('#demo', {
        width: 640,
        height: 480
      });

  sensorium.on('capture', function (dataURI) {
    var img = document.createElement('img');
    img.src = dataURI;
    img.height = 480;
    img.width = 640;
    document.getElementById('pics').appendChild(img);
  });

  var button = document.getElementById('try');

  sensorium.on('getUserMedia:error', function () {
    button.insertAdjacentHTML('afterend', '<div id="sad">:-(</div>');
    setTimeout(function () {
      var sad = document.getElementById('sad');
      sad.parentNode.removeChild(sad);
    }, 3000);
  });
  sensorium.on('getUserMedia:success', function () {
    button.parentNode.removeChild(button);
  });
  button.addEventListener('click', function (e) {
    e.preventDefault();
    sensorium.start();
  });
  </script>
  </body>
</html>